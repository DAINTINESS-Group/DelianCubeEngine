DATASOURCE TYPE: RDBMS WITH INI FILE: InputFiles/northwind/dbc.ini;

CREATE DIMENSION categories_dim
LIST OF LEVELS {
	CREATE LEVEL category WITH ATTRIBUTES{
		CategoryID: Number DATASOURCE CategoryID
	} WITH ID: CategoryID AND DESCRIPTION: CategoryID,
	CREATE LEVEL category_description WITH ATTRIBUTES{
		c_desc: Text DATASOURCE c_desc
	} WITH ID: c_desc AND DESCRIPTION: c_desc,
	CREATE LEVEL category_name WITH ATTRIBUTES{
		CategoryName: Text DATASOURCE CategoryName
	} WITH ID: CategoryName AND DESCRIPTION: CategoryName,
	CREATE LEVEL All_categories_dim WITH ATTRIBUTES{
		All: Text DATASOURCE All
	} WITH ID: All AND DESCRIPTION: All	
}
HIERARCHY category>category_description>category_name>All_categories_dim
DATASOURCE categories_dim;


CREATE DIMENSION customers_dim
LIST OF LEVELS {
	CREATE LEVEL customer WITH ATTRIBUTES{
		CustomerID: Text DATASOURCE CustomerID,
		CompanyName: Text DATASOURCE CompanyName,
		ContactName: Text DATASOURCE ContactName,
		ContactTitle: Text DATASOURCE ContactTitle,
		Address: Text DATASOURCE Address,
		Region: Text DATASOURCE Region,
		PostalCode: Text DATASOURCE PostalCode,
		Phone: Text DATASOURCE Phone,
		Fax: Text DATASOURCE Fax
	} WITH ID: CustomerID AND DESCRIPTION: ContactName,
	CREATE LEVEL customer_city WITH ATTRIBUTES{
		customer_city: Text DATASOURCE customer_city
	} WITH ID: customer_city AND DESCRIPTION: customer_city,
	CREATE LEVEL customer_country WITH ATTRIBUTES{
		customer_country: Text DATASOURCE customer_country
	} WITH ID: customer_country AND DESCRIPTION: customer_country,
	CREATE LEVEL All_customers_dim WITH ATTRIBUTES{
		All: Text DATASOURCE All
	} WITH ID: All AND DESCRIPTION: All	
}
HIERARCHY customer>customer_city>customer_country>All_customers_dim
DATASOURCE customers_dim;


CREATE DIMENSION employees_dim
LIST OF LEVELS {
	CREATE LEVEL employee WITH ATTRIBUTES{
		EmployeeID: Number DATASOURCE EmployeeID,
		LastName: Text DATASOURCE LastName,
		FirstName: Text DATASOURCE FirstName,
		Title: Text DATASOURCE Title,
		TitleOfCourtesy: Text DATASOURCE TitleOfCourtesy,
		BirthDate: Date DATASOURCE BirthDate,
		HireDate: Date DATASOURCE HireDate,
		Address: Text DATASOURCE Address,
		Region: Text DATASOURCE Region,
		PostalCode: Text DATASOURCE PostalCode,
		HomePhone: Text DATASOURCE HomePhone,
		Extensions: Text DATASOURCE Extensions,
		Notes: Text DATASOURCE Notes,
		ReportsTo: Number DATASOURCE ReportsTo
	} WITH ID: EmployeeID AND DESCRIPTION: LastName,
	CREATE LEVEL employee_city WITH ATTRIBUTES{
		employee_city: Text DATASOURCE employee_city
	} WITH ID: employee_city AND DESCRIPTION: employee_city,
	CREATE LEVEL employee_country WITH ATTRIBUTES{
		employee_country: Text DATASOURCE employee_country
	} WITH ID: employee_country AND DESCRIPTION: employee_country,
	CREATE LEVEL All_employees_dim WITH ATTRIBUTES{
		All: Text DATASOURCE All
	} WITH ID: All AND DESCRIPTION: All	
}
HIERARCHY employee>employee_city>employee_country>All_employees_dim
DATASOURCE employees_dim;


CREATE DIMENSION suppliers_dim
LIST OF LEVELS {
	CREATE LEVEL supplier WITH ATTRIBUTES{
		SupplierID: Number DATASOURCE SupplierID,
		CompanyName: Text DATASOURCE CompanyName,
		ContactName: Text DATASOURCE ContactName,
		ContactTitle: Text DATASOURCE ContactTitle,
		Address: Text DATASOURCE Address,
		Region: Text DATASOURCE Region,
		PostalCode: Text DATASOURCE PostalCode,
		Phone: Text DATASOURCE Phone,
		Fax: Text DATASOURCE Fax,
		HomePage: Text DATASOURCE HomePage
	} WITH ID: SupplierID AND DESCRIPTION: CompanyName,
	CREATE LEVEL supplier_city WITH ATTRIBUTES{
		supplier_city: Text DATASOURCE supplier_city
	} WITH ID: supplier_city AND DESCRIPTION: supplier_city,
	CREATE LEVEL supplier_country WITH ATTRIBUTES{
		supplier_country: Text DATASOURCE supplier_country
	} WITH ID: supplier_country AND DESCRIPTION: supplier_country,
	CREATE LEVEL All_suppliers_dim WITH ATTRIBUTES{
		All: Text DATASOURCE All
	} WITH ID: All AND DESCRIPTION: All	
}
HIERARCHY supplier>supplier_city>supplier_country>All_suppliers_dim
DATASOURCE suppliers_dim;

CREATE CUBE orders_cube
DATASOURCE orders
MEASURES UnitPrice AT orders.UnitPrice, 
		 Quantity AT orders.Quantity, 
		 Discount AT orders.Discount
REFERENCES DIMENSION categories_dim AT orders.o_categoryID,
					 customers_dim AT orders.o_customerID,
					 employees_dim AT orders.o_employeeID,
					 suppliers_dim AT orders.o_supplierID;